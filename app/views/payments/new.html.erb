<div class="p-6">
  <i class="fa-solid fa-chevron-left"></i>
</div>
<div class="flex flex-col p-6 space-y-3 justify-center">
  <h1 class="text-3xl font-semibold text-gray-700">결제를 진행합니다</h1>
</div>
<div class="flex-1"></div>
<div
  id="action-button"
    style="background-color: var(--primary-color);"
    class="m-6 font-semibold flex flex-col items-center justify-center p-4 text-lg rounded-2xl shadow-lg text-gray-700"
    onclick="handlePaymentButtonClick()"
  >
  <%= format_price_tag @order.price %> 결제하기
</div>
<script>
  var clientKey = 'test_ck_Kma60RZblrq9JQBeL2ErwzYWBn14'
    var tossPayments = TossPayments(clientKey)
    function handlePaymentButtonClick() {

    tossPayments.requestPayment('카드', {
      amount: <%= @product.price %>,
      orderId: '<%= @order.uuid %>',
      orderName: '<%= @order.name %>',
      customerName: '<%= current_user.name %>',
      successUrl: '<%= root_url %>api/payments/success',
      failUrl: '<%= root_url %>api/payments/failure',
    })
    }
</script>
